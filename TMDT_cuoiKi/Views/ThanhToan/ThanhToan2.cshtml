@{
    ViewData["Title"] = "ThanhToan";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link rel="stylesheet" href="~/style-phong/Style-thanhToan.css" />

<!-- Progress Indicator -->
<div class="progress-indicator">
    <div class="progress-step">
        <div class="step-icon" style="background-color: #477433;">
            <i><img src="~/img/bag-happy.png"></img></i>
        </div>
        <div class="step-label">Giỏ hàng</div>
    </div>
    <div class="progress-step">
        <div class="step-icon" style="background-color: #477433;">
            <i><img src="~/img/truck.png"></img></i>
        </div>
        <div class="step-label ">Kiểm tra</div>
    </div>
    <div class="progress-step active">
        <div class="step-icon">
            <i><img src="~/img/stepper circle (3).png"></img></i>
        </div>
        <div class="step-label">Thanh toán</div>
    </div>
</div>

<div class="tt-checkout-container">
    <!-- Tab Content -->
    <div class="tt-tab-content">
        <!-- Order Details -->
        <div class="tt-order-details">
            <h3 class="tt-section-title">Chi phí</h3>
            <div class="tt-order-row">
                <span>Số lượng sản phẩm</span>
                <span>1</span>
            </div>
            <div class="tt-order-row">
                <span>Giá tiền</span>
                <span>65.000đ</span>
            </div>
            <div class="tt-order-row">
                <span>Phí vận chuyển</span>
                <span>50.000đ</span>
            </div>
            <div class="tt-order-row">
                <span>Số tiền giảm</span>
                <span>0đ</span>
            </div>
            <div class="tt-order-row tt-total">
                <span>Tổng tiền phải thanh toán</span>
                <span>115.000đ</span>
            </div>
        </div>

        <!-- Payment Method -->
        <div class="tt-payment-section">
            <h3 class="tt-section-title">Phương thức thanh toán</h3>
            <div class="tt-payment-option" onclick="openModal()">
                <div class="tt-payment-icon" style="background-image: url('@Url.Content("~/img/image 194.png")'); background-size: contain; background-repeat: no-repeat; background-position: center; width: 100px; height: 100px;">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.9 1 3 1.9 3 3V21C3 22.1 3.9 23 5 23H19C20.1 23 21 22.1 21 21V9M19 21H5V3H13V9H19Z" />
                    </svg>
                </div>
                <div class="tt-payment-info">
                    <h4>Chọn phương thức thanh toán</h4>
                    <p>Miễn phí vận chuyển khi trả trước</p>
                </div>
                <div style="margin-left: auto;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="#dc3545">
                        <path d="M8.59 16.59L13.17 12L8.59 7.41L10 6L16 12L10 18L8.59 16.59Z" />
                    </svg>
                </div>
            </div>
        </div>

        <!-- Customer Information -->
        <div class="tt-customer-info">
            <h3 class="tt-section-title">Thông tin nhận hàng</h3>
            <table class="tt-info-table">
                <tr>
                    <td>Họ tên người nhận</td>
                    <td>Nguyễn Viết Lâm Phong</td>
                </tr>
                <tr>
                    <td>Số điện thoại</td>
                    <td>0856445778</td>
                </tr>
                <tr>
                    <td>Địa chỉ nhận hàng</td>
                    <td>54 Võ Như Hưng, P. Mỹ An, Q.Ngũ Hành Sơn, Đà Nẵng</td>
                </tr>
                <tr>
                    <td>Ghi chú</td>
                    <td></td>
                </tr>
            </table>
        </div>

        <!-- Checkout Footer -->
        <div class="tt-checkout-footer">
            <div class="tt-total-amount">
                Tổng tiền phải thanh toán : 115.000đ
            </div>
            <button class="tt-checkout-btn" style="background-color: gray;">Thanh toán</button>
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal-overlay" id="paymentModal" onclick="closeModalOnOverlay(event)">
    <div class="modal-content">
        <!-- Header -->
        <div class="modal-header">
            <h2 class="modal-title">Chọn phương thức thanh toán</h2>
        </div>

        <!-- Payment Options -->
        <div class="payment-options">
            <!-- Chuyển khoản ngân hàng -->
            <div class="payment-item" onclick="selectPayment('Chuyển khoản ngân hàng')">
                <div class="payment-icon icon-bank">
                    <svg class="svg-icon" viewBox="0 0 24 24">
                        <path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z" />
                    </svg>
                </div>
                <span class="payment-name">Chuyển khoản ngân hàng</span>
                <span class="payment-arrow">›</span>
            </div>

            <!-- VNPAY -->
            <div class="payment-item" onclick="selectPayment('VNPAY')">
                <div class="payment-icon icon-vnpay" style="background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTp1v7T287-ikP1m7dEUbs2n1SbbLEqkMd1ZA&s');">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTp1v7T287-ikP1m7dEUbs2n1SbbLEqkMd1ZA&s" style="height:%; width: 100%;"/>
                </div>
                <span class="payment-name">VNPAY</span>
                <span class="payment-arrow">›</span>
            </div>

            <!-- Ví MoMo -->
            <div class="payment-item" onclick="selectPayment('Ví MoMo')">
                <div class="payment-icon icon-momo">
                    <img src="https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png" style="height:%; width: 100%;" />
                </div>
                <span class="payment-name">Ví MoMo</span>
                <span class="payment-arrow">›</span>
            </div>

            <!-- ZaloPay -->
            <div class="payment-item" onclick="selectPayment('ZaloPay')">
                <div class="payment-icon icon-zalopay">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQTlp4qW2M8xPofmuZHwEfGi9mNMWUG0zs53A&s" style="height:%; width: 100%;" />
                </div>
                <span class="payment-name">ZaloPay</span>
                <span class="payment-arrow">›</span>
            </div>

            <!-- Thanh toán khi nhận hàng -->
            <div class="payment-item" onclick="selectPayment('Thanh toán khi nhận hàng')">
                <div class="payment-icon icon-cod">
                    <svg class="svg-icon" viewBox="0 0 24 24">
                        <path d="M21,18V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V6H12C10.89,6 10,6.9 10,8V16A2,2 0 0,0 12,18M12,16H22V8H12M16,13.5A1.5,1.5 0 0,1 14.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,12A1.5,1.5 0 0,1 16,13.5Z" />
                    </svg>
                </div>
                <span class="payment-name">Thanh toán khi nhận hàng</span>
                <span class="payment-arrow">›</span>
            </div>
        </div>

        <!-- Cancel Button -->
        <button class="cancel-btn" onclick="closeModal()">
            Hủy
        </button>
    </div>
</div>
<script>
    function openModal() {
        document.getElementById('paymentModal').classList.add('active');
    }

    function closeModal() {
        document.getElementById('paymentModal').classList.remove('active');
    }

    function closeModalOnOverlay(event) {
        if (event.target === event.currentTarget) {
            closeModal();
        }
    }

    function selectPayment(paymentMethod) {
        alert('Đã chọn: ' + paymentMethod);
        closeModal();
    }

    // Đóng modal khi nhấn ESC
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            closeModal();
        }
    });
</script>



